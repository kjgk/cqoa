<form class="form-horizontal" role="form" name="miscellaneousForm">
    <div class="modal-header">
        <button type="button" class="close" ng-click="cancel()">×</button>
        <h4 class="modal-title">{{title}}</h4>
    </div>
    <div class="modal-body">
        <div class="form-group">
            <label class="col-sm-2 control-label">申请人</label>

            <div class="col-sm-10">
                <input type="text" class="form-control" ng-readonly="true"
                       value="{{PageContext.currentUser.name}}">
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-2 control-label">申请事由</label>

            <div class="col-sm-10">
                <textarea rows="5" class="form-control" name="description" validator="required"
                          ng-model="miscellaneous.description"></textarea>
                <h5 ng-if="miscellaneous.objectId"><a class="pull-right" href="javascript:;" ng-click="viewInstanceLog({relatedObjectId: miscellaneous.objectId})">查看审批记录</a></h5>
            </div>
        </div>
        <div class="form-group" ng-if="!miscellaneous.objectId">
            <label class="col-sm-2 control-label">审批人</label>

            <div class="col-sm-10">

                <select class="form-control" user-select="OrganizationManager" placeholder="请选审批人"
                        name="approver" ng-model="miscellaneous.approver.objectId" validator="required">
                </select>
            </div>
        </div>
    </div>
    <div class="modal-footer">
        <button class="btn btn-primary" validation-submit="miscellaneousForm" ng-click="submit()">提交</button>
        <button class="btn btn-warning" ng-click="cancel()">取消</button>
    </div>
    <div cg-busy="promise"></div>
</form>